import cv2
import numpy as np
from PIL import ImageGrab

width = 1280
height = 800

fourcc = cv2.VideoWriter_fourcc('M','J','P','G')
fps = 30
video_filename = 'output.avi'
out = cv2.VideoWriter(video_filename, fourcc, fps, (width, height))




while True:
    frame = ImageGrab.grab()
    np_frame = np.array(frame)

    out.write(np_frame)
    cv2.imshow("frame", np_frame)

    key = cv2.waitKey(1)
    if key == 27 or key == 113:
        break
cv2.destroyAllWindows()